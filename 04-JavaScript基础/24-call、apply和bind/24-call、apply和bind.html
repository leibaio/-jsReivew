<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // js提供了一些方法改变函数内部的this指向，常见的有call(), apply(), bind()

    // call()方法：可以调用一个函数，同时可以改变这个函数内部的this指向；可以实现继承
    // 语法：fn1.call(想要将this指向哪里，函数实参1，函数实参2);

    // call()方法举例1: 通过call()调用函数
    // const obj1 = {
    //   nickName: 'leibaio',
    //   age: 23,
    // };

    // function fn1() {
    //   console.log(this);
    //   console.log(this.nickName);
    // }

    // fn1.call(this); //this的指向并没有改变，此时相当于fn1()

    // 举例2: 通过call()改变this指向

    // var obj1 = {
    //   nickName: 'leibaio',
    //   age: 23,
    // };

    // function fn1(a, b) {
    //   console.log(this);
    //   console.log(this.nickName);
    //   console.log(a + b);
    // }

    // fn1.call(obj1, 2, 4); //先将this指向obj1，然后执行 fn1() 函数

    // 举例3: 通过call()实现继承
    // function Father(myName, myAge) {
    //   this.name = myName;
    //   this.age = myAge;
    // }

    // function Son(myName, myAge) {
    //   // [重要代码]
    //   // 通过这一步骤，将father里的this修改为son里的this；另外给son加上相应的参数，让son拥有father里面的属性，实现继承
    //   Father.call(this, myName, myAge);
    // }

    // const son1 = new Son('leibaio', 23);
    // console.log(JSON.stringify(son1));
    // console.log(son1.name + son1.age);

    // apply() 方法：可以调用一个函数，还可以改变函数内部的this指向。这一点和call()类似。但是和call()的唯一区别在于，apply()里传入的实参，必须是数组
    // 举例：通过apply()改变this指向

    // var obj1 = {
    //   nickName: 'leibaio',
    //   age: 23,
    // };

    // function fn1(a) {
    //   console.log(this);
    //   console.log(this.nickName);
    //   console.log(a);
    // }

    // fn1.apply(obj1, ['hello']); //先将this指向obj1，然后执行fn1()函数

    // apply()方法的巧妙运用：求数组的最大值：
    // const arr1 = [3, 7, 10, 8];
    // // 下面这一行代码的目的，无需改变this指向，所以：第一个参数填null，或者Math，或者this
    // const maxValue = Math.max.apply(Math, arr1); // 求数组arr1中的最大值
    // console.log(maxValue);

    // const minValue = Math.min.apply(Math, arr1);
    // console.log(minValue);


    // bind() 方法：不会调用函数，但是可以改变函数内部的this指向

    // 三种方法对比，实际开发中，bind()使用最为频繁。有些函数，不需要立即调用，但是又想改变函数内部this指向，使用bind()最为合适
    // bind()语法： 新函数 = fn1.bind(想要将this指向哪里，函数实参1，函数实参2);
  </script>
</body>
</html>