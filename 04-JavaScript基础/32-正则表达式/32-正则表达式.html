<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 正则表达式: 用于定义一些字符串的规则

    // 创建正则表达式的对象
    // 方法一：使用构造函数创建正则表达式对象
    // var 变量 = new RegExp("正则表达式"); // 参数是字符串;
    // var 变量 = new RegExp("正则表达式", "匹配模式"); // 两个参数都是字符串

    // 创建了正则表达式对象后，使用可以分为两个步骤：（1）创建正则表达式的对象reg；（2）使用reg的test()方法，判断指定字符串是否符合规则
    // myReg.test(str); // 判断字符串str是否符合指定的myReg这个正则表达式的规则：符合返回true，不符合返回false

    // 传一个参数时：构造函数RegExp中，可以只传一个参数
    // var reg = new RegExp("a"); // 定义一个正则表达式，检查一个字符串中是否含有 a

    // var str1 = "leibaio";
    // var str2 = "ev";

    // // 通过test()方法，判断字符串是否符合上面定义的reg规则
    // console.log(reg.test(str1));
    // console.log(reg.test(str2));

    // 传两个参数：匹配模式『重要』
    // 构造RegExp时，也可以传两个参数。可以传递一个匹配模式作为第二个参数。这个参数可以是：
    // i 忽略大小写（ignore） ； g 全局匹配模式（global）

    // var reg = new RegExp('A', 'i');
    // var str = 'leibaio';

    // console.log(reg.test(str));

    // 方式二：使用字面量创建正则表达式
    // 语法：var 变量 = /正则表达式/;
    //       var 变量 = /正则表达式/匹配模式;

    // var reg = /A/i;
    // var str = 'leibaio';

    // console.log(typeof reg);
    // console.log(reg.test(str));

    // 两种方式对比：
    // var reg = new RegExp("a", "i");
    // var reg = /a/i;

    // 避坑指南：全局匹配g慎用test()方法
    // 对于非全局匹配的正则表达式，test()只会存在某个目标字符串（只要存在就为true）
    // const reg = /test/;
    // const str = '_test_test';

    // console.log(reg.test(str)); 
    // console.log(reg.test(str)); 
    // console.log(reg.test(str)); 

    // 重点：当设置全局标志 /g 时，一旦字符串中还存在匹配，test() 方法都将返回true，同时匹配成功后把 lastIndex 属性的值设置为上次匹配成功后的第一个字符所在的位置，下次匹配将从 lastIndex 指示的位置开始；匹配不成功返回 false， 同时将lastIndex属性的值重置为 0；

    // const reg = /test/g;
    // const str = '_test_test';

    // console.log(reg.test(str)); 
    // console.log(reg.lastIndex);

    // console.log(reg.test(str)); 
    // console.log(reg.lastIndex);

    // console.log(reg.test(str)); 
    // console.log(reg.lastIndex);

    // 正则表达式的简单语法
    // 检查一个字符串中是否包含a或b
    // 写法一：
    // var reg = /a|b/; //使用 | 表示 或 的意思
    // // 写法二：
    // var reg = /[ab]/; // 使用 [] 也表示 或 的意思

    // [] 的一些规则
    // /[ab]/ 等价与 /a|b/ 检查一个字符串中是否包含a或b
    // /[a-z]/  检查一个字符串是否包含任意小写字母
    // /[A-z]/  任意字母
    // /[A-Z]/  任意大写字母
    // /[0-9]/  任意数字
    // /a[bde]c/  检查一个字符串中是否包含abc 或 adc 或 aec


    // [^]表示：除了
    // var reg = /[^ab]/; //字符串中，除了a、b之外，还有没有其他字符内容
    // var str = "acb";

    // console.log(reg.test(str));

    // 可以用于验证某字符串是否为纯数字
    // var reg = /[^0-9]/; //字符串中，除了数字以外，还有没有其他的内容
    // var str1 = "1999";
    // var str2 = "199a9";

    // console.log(reg.test(str1));
    // console.log(reg.test(str2));

    // 支持正则表达式的String对象的方法
    
    // split(): 将一个字符串拆分成一个数组。可以接受一个正则表达式作为参数
    // 举例：根据任意字母，将字符串拆分成数组；
    // var str = "1a2b3c4d5e6f7g";

    // var result = str.split(/[A-z]/);// 参数表示所有字母
    // console.log(result); // ["1", "2", "3", "4", "5", "6", "7", ""]


    // search(): 搜索字符串中是否含有指定内容。如果搜索到指定内容，则返回第一次出现的索引；否则返回-1；search()方法可以接受一个正则表达式作为参数，然后根据正则表达式去检索字符串。search()只会查找第一个，即时设置全局匹配也没用

    // var str = "hello abc hello aec afc";
    // // 搜索字符串中是否含有 abc aec 或 afc
    // result = str.search(/a[bef]c/);
    // console.log(result);

    // match()
    // 根据正则表达式， 从一个字符串中将符合条件的内容提取出来，封装到一个数组中返回（既使只查询到一个结果）；注意：默认情况下，match（）方法只会找到第一个符合要求的内容，然后就停止搜索。可以设置正则表达式为全局匹配模式，这样就会匹配到所有的内容，并以数组的形式返回；

    // var str = "1a2a3a4a5e6f7A8B9C";

    // var result1 = str.match(/[a-z]/); // 找到符合要求的第一个内容，然后返回
    // var result2 = str.match(/[a-z]/g); // 设置为“全局匹配”模式，匹配所有小写字母
    // var result3 = str.match(/[a-z]/gi); // 设置多个匹配模式，匹配字符串中所有的字母（）

    // console.log(result1);
    // console.log(result2);
    // console.log(result3);

    // replace() ：将字符串指定内容，替换为新的内容并返回。不会修改原字符串
    // var str2 = "Today is fine day, today is fine day !!!"

    // console.log(str2);
    // console.log(str2.replace("today", "tomorrow")); // 只替换第一个today
    // console.log(str2.replace(/today/gi, "tomorrow"));// 使用正则，g i，才能替换所有today

    // 常见正则表达式举例
    // 手机号规则
    // var phoneStr = "13067890123";
    // var phoneReg = /1^[3-9][0-9]{9}$/;

    // console.log(phoneReg.test(phoneStr));

    // 去除字符串开头和结尾的空格
    // str = str.replace(/^s*|\s*$/g, "");

    // str = str.replace(/^\s*/, ""); //去除开头的空格

    // str = str.replace(/\s*/, ""); //去除开头的空格

    // 判断字符串是否为电子邮件
    var emailReg = /^\w{3,}(\.\w+)*@[A-z0-9]+(\.[A-z]{2,5}){1,2}$/;

    var email = "abchello@163.com";

	  console.log(emailReg.test(email));
  </script>
</body>
</html>